物流与供应链条团队——国际化电商部门

## 自我介绍

## 讲一下项目主要做了什么

### 1. MyCat这块有看过它的一些文档吗？它里面是怎么描述mycat的一些核心的功能，以及它的一个定位？

拦截sql语句，实现读写分离，多机热备，数据分片。作为分布式数据库中间件，实现代码和数据库的解耦。

### 2. 刚才提到双向复制，那么双向复制通常需要注意什么，比如说需要做什么特殊的配置，什么特殊的处理，避免它双向复制可能带来的一些问题？

### 3. 除了一致性问题，可能会出现数据冲突啊，主键冲突？（）

1. 基于自主主键控制，通过设置自增属性auto_increment_offset和auto_increment_increment来控制每个主节点生产不同的自增值，并根据不同自增值访问不同主节点。
2. 基于库级别或表级别控制，如应用APP1访问节点node1上的DB1库，而应用APP2访问节点node2上的DB2库，两个主节点间不会操作相同表的数据，因此不会存在事务冲突。

## 怎么理解HTTP协议

### 1. HTTP定义了哪些内容

header，body

### 2. 协议版本，讲一下不同版本的区别 HTTP1.0，1.1 ，2.0， 3.0

### 3. HTTP中多路复用的原理是什么？

1. 客户端和服务器之间建立一条TCP连接，该连接可以承载多个并发的HTTP请求和响应。

2. 在多路复用模式下，客户端可以同时发起多个HTTP请求，这些请求会被切割成一系列的数据帧，并以无序的方式发送到服务器。

3. 服务器接收到这些数据帧后，可以并行处理它们，并以无序的方式发送相应的HTTP响应数据帧。

4. 当客户端接收到数据帧后，会根据帧的标识对它们进行重组，还原成完整的HTTP请求和响应。
   

## MySQL

### 两条sql执行上有什么区别？性能区别

select * from table where b = xxx   根据辅助索引找到主键，再根据主键索引找到对应的内容

select id from table where b =xxx   根据辅助索引找到主键

## 讲一下socket通信，大概的过程，在过程中会使用到的算法

## TCP有滑动窗口的模块，它是解决什么问题的？

解决流量控制的问题

## TCP建立连接，监听的时候，如果是C++写，具体要写什么代码，有什么具体的参数？

服务端建立socket，bind绑定端口，listen监听端口，accept连接客户端

客户端建立socket，connection连接服务端

## 进程与线程区别

## 假如有一个进程，要通过fork（）复制一个进程，操作系统会做什么事情

主进程在执行fork()的时候，操作系统会把主进程的页表复制一份给子进程，这个页表记录着虚拟地址到物理地址的映射关系，而不会复制物理内存，也就是说两者的虚拟空间不同，但是对应的物理空间是一样的。这样一来，子进程就会共享父进程的物理内存数据，这样能够节约物理内存资源，页表对应的页表项的属性会标记该物理内存的权限为只读。

当父进程或者子进程在向这个内存发起写操作时，CPU会触发写保护中断，操作系统会在写保护中断处理函数里进行物理内存的复制，并重新设置其内存映射关系。这个过程称为“写时复制”。

### fork( )会复制哪些东西？

- fork( )会复制父进程的页表（虚拟内存）
- fork之后，如果发生了写时复制，就会复制物理内存。



### 系统会把进程里面分配的内容，它会把这部分分配的内容进行复制。

当调用 fork() 函数来创建一个新进程时，操作系统会进行一系列的操作来完成进程的复制。以下是大致的步骤：

复制父进程：

当调用 fork() 函数时，操作系统会复制父进程的内存空间（包括代码段、数据段、堆栈等）以及父进程的上下文（如寄存器的值、打开的文件描述符等）。这样，子进程就拥有了和父进程相同的执行环境。
设置子进程的返回值：

在父进程中，fork() 函数返回子进程的进程 ID（PID），而在子进程中，fork() 函数返回 0。这样，父进程和子进程可以通过返回值来区分自己是在哪个进程中执行。
父子进程的执行：

一旦完成了进程的复制，父进程和子进程将开始并发执行。它们将共享相同的代码段和数据段，但是各自有独立的堆栈空间。因此，父进程和子进程可以在不互相干扰的情况下执行不同的操作。
关闭文件描述符：

子进程会继承父进程打开的文件描述符。通常，在 fork() 后，子进程会关闭不需要的文件描述符，以防止资源泄漏和文件描述符的浪费。
继承父进程的环境：

子进程会继承父进程的环境变量、当前工作目录、用户 ID 和组 ID 等环境信息。
父子进程的执行不同逻辑：

通常情况下，父进程和子进程会根据需要执行不同的逻辑。例如，在父进程中，可能会等待子进程的退出状态，而子进程可能会执行某些特定的任务。
总之，通过 fork() 函数创建一个新进程后，操作系统会复制父进程的内存空间和上下文，并为子进程设置合适的返回值，然后父子进程将并发执行，各自独立地执行自己的逻辑。

## 虚拟内存，解决了什么问题？

虚拟内存的目的是为了让物理内存扩充成更大的逻辑内存，从而让**程序获得更多的可用内存**。

**为了更好的管理内存**，操作系统将内存抽象成地址空间。每个程序拥有自己的地址空间

算法题：

1. 深搜
2. 字符串的动态规划

字符串1: "kitten", 字符串2“ sitting”，最少走多少步，可以将字符串1变成字符串2。可以加字符，改字符，删字符

kitten —— sitten  将k改成s

sitten——sittin  将e改成i

sittin——sitting  在最后加一个g



## 说说IO多路复用

I/O多路复用可以只使用一个进程来维护多个Socket。

一个进程虽然任一时刻只能处理一个请求，但是处理个请求的时间时，耗时控制在1毫秒以内，这样1秒内可以处理上千个请求，时分多路复用。

